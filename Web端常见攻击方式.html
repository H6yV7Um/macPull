<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web端常见攻击方式</title>
</head>
<body>
<script>
    //csrf攻击：跨站点请求伪造。
    /*
    *   1.浏览并登录信任网站A
    *   2.验证通过，在用户处(C)产生A的Cookie
    *   3.用户在没有登出A网站的情况下，访问危险网站B
    *   4.B要求访问第三方站点(A),发出一个请求(request)
    *   5.根据B在第4步的请求，浏览器带着第2步产生的Cookie访问A
    *   6.A不知道第5步中的请求是用户C发出的还是B发出的，由于浏览器会自动带上用户C的Cookie，
    *   所以A会根据用户的权限处理第5步的请求，这样B就达到了模拟用户操作的目的。
    */


    //csrf的防御：主要是在服务端进行防御，总的思想是：在客户端页面增加伪随机数
    /*
    *   1.为每个用户生成一个唯一的cookie token，所有表单都包含同一个伪随机数，这种方案最简单，因为攻击者不能获得
    *   第三方的Cookie(理论上)，所以表单中的数据也就构造失败，但是由于用户的Cookie很容易由于网站的XSS漏洞而被盗取，
    *   所以这个方案必须要在没有XSS的情况下才安全。
    *   2.每个请求使用验证码，这个方案是完美的，因为要多次输入验证码，所以用户友好性很差，所以不适合实际运用。
    *   3.不同的表单包含一个不同的伪随机数。
    */



    //XSS攻击：跨站脚本攻击(Cross Site Scripting).
    /*
        原理是：攻击者往Web页面里插入恶意的脚本代码(CSS代码，JS代码等)，当用户浏览该页面时，
        嵌入其中的脚本代码会被执行，从而达到恶意攻击用户的目的。如盗取用户cookie，破坏页面结构，
        重定向到其他网站等。
    */

    //如何预防XSS
    /*
    *   1.过滤特殊字符
    *   2.使用HTTP头指定类型（让浏览器解析js代码，而不会是html输出）
    */
</script>
</body>
</html>