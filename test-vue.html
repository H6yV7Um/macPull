<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test-vue</title>
</head>
<body>
<script>
    var obj = {
        name:"zj",
        age:25
    }

    function observer(obj){
        if(typeof obj !== "object") return;

        Object.keys(obj).forEach((key)=>{
            return new Observer(obj,key);
        })
    }

    function Observer(obj,key){
        var val = obj[key];
        Object.defineProperty(obj,key,{
            // enumerable: true,   // 可枚举
            // configurable: true, // 可重新定义
            get(){
                console.log(val);
            },
            set(newVal){
                if(newVal === val){
                    return val;
                }
                val = newVal;
                console.log(`新值为:${newVal}`);
            }
        })
    }

    observer(obj);
</script>
</body>
</html>